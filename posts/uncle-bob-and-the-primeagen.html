<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><link href="/ThorntonMelon.css" rel="stylesheet"></link></head><body><header><h1>Tool of Thought</h1><h2>APL for the Practical Man</h2><h3>"You don't know how bad your design is until you write about it."</h3><nav><a href="/">Home</a><a href="/posts">Posts</a><a href="/projects">Projects</a><a href="/donts">Don'ts</a><a href="/links">Links</a><a href="/about">About</a></nav></header><main><article><header><h1><a href="/posts/uncle-bob-and-the-primeagen">Uncle Bob and The Primeagen</a></h1><h2>May 7, 2024</h2></header><p>Recently the genial Robert "Uncle Bob" Martin sat down with the always entertaining Primeagen for an <a href="https://www.youtube.com/watch?v=UBXXw2JSloo">interview</a>.  Given The Primeagen's well-known aversion to TDD and short functions, it was bound to be a spirited conversation, and indeed it was.</p><p>I'm fully sympathetic to the idea that it's hard and often counterproductive (if not impossible) to do full TDD on a new project.  What I don't get is The Primeagen's gripe about 100% code coverage. He asks Uncle Bob about testing the summing of the elements of an array. Uncle Bob explains that he would not write a specific test for that, but that the code would be tested indirectly; there would be a test on a method or function that  has the line that sums the array. Or even a test higher up the stack. But the line would get executed in the test suite somewhere. In the interview, the Primeagen doesn't seem to understand that.  </p><p>In response to The Primeagen's repeated questions about "what to test", Uncle Bob brings up Kent Beck: test anything and everything that can break. In APL, that's pretty much every line of every function. I assume a similar situation in any interpreted language.</p><p>Consider the line: </p><pre><code>      c←a+b
</code></pre><p>This can fail in at least 5 different ways, including <code>VALUE ERROR</code>, <code>DOMAIN ERROR</code>, <code>RANK ERROR</code>, and <code>LENGTH ERROR</code>.  Heck, consider:</p><pre><code>      v←1   
</code></pre><p>This line can fail!</p><p>Now, as Uncle Bob points out, it would be silly to write a test for every line of code. But every line of code should be executed in the tests, because every line of code can break. There is no excuse for less than 100% code coverage. </p><p>Please note that I have written a lot of code that has a lot less than 100% coverage, even 0% coverage, and I have no excuse.  </p></article></main><footer><p>Copyright 2021-2025 Paul S. Mansour</p></footer></body></html>
