<!DOCTYPE html>
<html lang="en"><head><meta charset="utf-8"></meta><meta content="width=device-width, initial-scale=1" name="viewport"></meta><link href="/ThorntonMelon.css" rel="stylesheet"></link></head><body><header><h1>Tool of Thought</h1><h2>APL for the Practical Man</h2><h3>"We make software the old-fashioned way, we write it."</h3><nav><a href="/">Home</a><a href="/posts">Posts</a><a href="/projects">Projects</a><a href="/donts">Don'ts</a><a href="/links">Links</a><a href="/about">About</a></nav></header><main><article><header><h1><a href="/posts/leetcode-571">LeetCode 571: Find Median Given Frequency of Numbers</a></h1><h2>July 6, 2022</h2></header><p>One of the most powerful aspects of FlipDB is that we can employ APL-style solutions directly in a query. We can take, drop, rotate, expand, replicate, grade (and much more!),  doing all sorts of things with intermediate values and structures, and as long as as the final result is conforming in particular context, we are good to go. This makes solving LeetCode 571 not just easy, but trival. We are given a table of observations and their frequencies:</p><pre><code>      t.Display 0
── LeetCode571.Numbers 
 ┌Num─┐  ┌Frequency┐   
 ↓0   │  ↓7        │   
 │1   │  │1        │   
 │2   │  │3        │   
 │3   │  │1        │   
 └Int8┘  └Int8─────┘   
── 4 rows by 2 columns 
</code></pre><p>and tasked with computing the median:</p><pre><code>     q←t.Query''
     _←q.AddColumn'Median' 'median Frequency replicate Num'
     r←q.Execute 0
     r.Display 0
───────────────────────
 ┌Median┐              
 │0     │              
 └Int8──┘              
── 1 row by 1 column ──
</code></pre><p>Of course FlipDB has a median function (as well as the more general percentile , like SQL), so we have abstracted away the problem of actually computing the median.  The point here, though, is that we can easily transform the given data to construct the appropriate argument to median, using a common APL technique:</p><pre><code>      7 1 3 1/0 1 2 3
0 0 0 0 0 0 0 1 2 2 2 3
</code></pre><p>And the intermediate data structure, an array of lenght 12, is not directly related to the shape of any tables in the database. We have some serious computational freedom within a query, and can write direct solutions to complex problems.</p></article></main><footer><p>Copyright 2021-2025 Paul S. Mansour</p></footer></body></html>
